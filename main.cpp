#include <iostream>

#include "Regression.hpp"

int main() {
	Regression reg;

	//Data taken from mtcars dataset in R
	InputData in(32,3);
	in << 
		160, 110, 2.62,
		160, 110, 2.875,
		108, 93, 2.32,
		258, 110, 3.215,
		360, 175, 3.44,
		225, 105, 3.46,
		360, 245, 3.57,
		146.7, 62, 3.19,
		140.8, 95, 3.15,
		167.6, 123, 3.44,
		167.6, 123, 3.44,
		275.8, 180, 4.07,
		275.8, 180, 3.73,
		275.8, 180, 3.78,
		472, 205, 5.25,
		460, 215, 5.424,
		440, 230, 5.345,
		78.7, 66, 2.2,
		75.7, 52, 1.615,
		71.1, 65, 1.835,
		120.1, 97, 2.465,
		318, 150, 3.52,
		304, 150, 3.435,
		350, 245, 3.84,
		400, 175, 3.845,
		79, 66, 1.935,
		120.3, 91, 2.14,
		95.1, 113, 1.513,
		351, 264, 3.17,
		145, 175, 2.77,
		301, 335, 3.57,
		121, 109, 2.78;

	OutputData out(32);
	out << 
		21,
		21,
		22.8,
		21.4,
		18.7,
		18.1,
		14.3,
		24.4,
		22.8,
		19.2,
		17.8,
		16.4,
		17.3,
		15.2,
		10.4,
		10.4,
		14.7,
		32.4,
		30.4,
		33.9,
		21.5,
		15.5,
		15.2,
		13.3,
		19.2,
		27.3,
		26,
		30.4,
		15.8,
		19.7,
		15,
		21.4;

	std::cout << in << std::endl;

	reg.trainClosedForm(in, out);

	//std::cout << reg.predict((InputRow)5) << std::endl;
	std::cout << reg << std::endl;
}
